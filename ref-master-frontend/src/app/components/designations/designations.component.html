<div class="designations-container">
    <h2>Mes désignations</h2>

    <table class="designations-table">
        <thead>
            <tr>
                <th>Date</th>
                <th>Division</th>
                <th>Équipe A</th>
                <th>Équipe B</th>
                <th>Salle</th>
                <th>Ville</th>
                <th>Collègue</th>
                <th>Kilomètres</th>
                <th>Revenus</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let designation of designations">
                <td>{{ designation.date | date:'dd/MM/yyyy' }}</td>
                <td>{{ designation.division }}</td>
                <td>{{ designation.equipeA }}</td>
                <td>{{ designation.equipeB }}</td>
                <td>{{ designation.salle }}</td>
                <td>{{ designation.ville }}</td>
                <td>{{ designation.collegue }}</td>
                <td>{{ designation.kmParcourus }}</td>
                <td>{{ designation.revenus | currency:'EUR' }}</td>
            </tr>
        </tbody>
    </table>

    <!-- Bouton pour ouvrir la modale de création d'une désignation -->
    <button (click)="openCreateModal()" class="create-button">
        <span class="plus-icon">+</span>
    </button>

    <!-- Modale -->
    <div class="modal" [ngStyle]="{ 'display': isModalOpen ? 'flex' : 'none' }" (click)="closeModal()">
        <div class="modal-content" (click)="$event.stopPropagation()">
            <!-- Corps de la modale -->
            <div class="modal-body">
                <form (ngSubmit)="createDesignation()" #designationForm="ngForm">
                    <div class="form-group">
                        <label for="date">Date</label>
                        <input type="date" id="date" name="date" [(ngModel)]="newDesignation.date" required>
                    </div>
                    <div class="form-group">
                        <label for="division">Division</label>
                        <input type="text" id="division" name="division" [(ngModel)]="newDesignation.division" required>
                    </div>
                    <div class="form-group">
                        <label for="equipeA">Equipe 1</label>
                        <input type="text" id="equipeA" name="equipeA" [(ngModel)]="newDesignation.equipeA" required>
                    </div>
                    <div class="form-group">
                        <label for="equipeB">Equipe 2</label>
                        <input type="text" id="equipeB" name="equipeB" [(ngModel)]="newDesignation.equipeB" required>
                    </div>
                    <div class="form-group">
                        <label for="salle">Salle</label>
                        <input type="text" id="salle" name="salle" [(ngModel)]="newDesignation.salle" required>
                    </div>
                    <div class="form-group">
                        <label for="ville">Ville</label>
                        <input type="text" id="ville" name="ville" [(ngModel)]="newDesignation.ville" required>
                    </div>
                    <div class="form-group">
                        <label for="collegue">Collègue</label>
                        <input type="text" id="collegue" name="collegue" [(ngModel)]="newDesignation.collegue" required>
                    </div>
                    <div class="form-group">
                        <label for="kmParcourus">Kilomètres parcourus</label>
                        <input type="text" id="kmParcourus" name="kmParcourus" [(ngModel)]="newDesignation.kmParcourus" required>
                    </div>
                    <div class="form-group">
                        <label for="revenus">Revenus</label>
                        <input type="text" id="revenus" name="revenus" [(ngModel)]="newDesignation.revenus" required>
                    </div>                    

                    <button type="submit" class="btn btn-primary">Ajouter</button>
                </form>
            </div>
        </div>
    </div>
</div>